/* Responsive Design */
@media (max-width: 992px) {
   .admin-sidebar {
       transform: translateX(-100%);
   }
   
   .admin-sidebar.active {
       transform: translateX(0);
   }
   
   .admin-main {
       margin-left: 0;
       width: 100%;
   }
   
   .menu-toggle {
       display: block;
   }
   
   .dashboard-stats {
       grid-template-columns: repeat(2, 1fr);
   }
}

@media (max-width: 768px) {
   .dashboard-stats {
       grid-template-columns: 1fr;
   }
   
   .chart-container, 
   .recent-orders {
       padding: 15px;
   }
   
   .admin-header {
       flex-direction: column;
       align-items: flex-start;
       gap: 15px;
   }
   
   .admin-user {
       width: 100%;
       justify-content: space-between;
       padding-top: 15px;
       border-top: 1px solid var(--border-color);
   }
}

/* Responsive para tabla de categorías */
@media (max-width: 768px) {
   .tabla-categorias-container {
      margin: 0 -16px;
      border-radius: 0;
   }
   
   #tabla-categorias {
      min-width: 600px;
      font-size: .9rem;
   }
   
   #tabla-categorias th, #tabla-categorias td {
      padding: 10px 8px;
   }
   
   #tabla-categorias thead th {
      font-size: .75rem;
      padding: 12px 8px;
   }
   
   /* Ajustar columna de subcategorías en mobile */
   .subcategorias-info {
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
   }
   
   .acciones-categoria {
      flex-direction: column;
      gap: 6px;
   }
   
   .descripcion-categoria {
      max-width: 200px;
      font-size: .85rem;
   }
}

@media (max-width: 480px) {
   #tabla-categorias {
      min-width: 500px;
      font-size: .85rem;
   }
   
   #tabla-categorias th, #tabla-categorias td {
      padding: 8px 6px;
   }
   
   #tabla-categorias thead th {
      font-size: .7rem;
      padding: 10px 6px;
   }
   
   .btn-agregar-subcategoria {
      padding: 4px 8px;
      font-size: .75rem;
   }
   
   .btn-editar, .btn-eliminar {
      padding: 4px 8px;
      font-size: .75rem;
   }
   
   .descripcion-categoria {
      max-width: 150px;
      font-size: .8rem;
   }
}

/* Mejoras adicionales para pantallas grandes */
@media (min-width: 1200px) {
   #tabla-categorias {
      font-size: 1rem;
   }
   
   #tabla-categorias th, #tabla-categorias td {
      padding: 15px 12px;
   }
   
   .descripcion-categoria {
      max-width: 400px;
   }
}

/* Responsive para subcategorías existentes */
@media (max-width: 768px) {
   .item-subcategoria {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
   }
   
   .acciones-subcategoria {
      width: 100%;
      justify-content: flex-end;
   }
   
   .info-subcategoria {
      width: 100%;
   }
}

/* Responsive para tabla de productos */
@media (max-width: 768px) {
   .tabla-productos-container {
      margin: 0 -16px;
      border-radius: 0;
   }
   
   #tabla-productos {
      font-size: .9rem;
   }
   
   #tabla-productos th, #tabla-productos td {
      padding: 8px 6px;
   }
   
   #tabla-productos thead th {
      font-size: .75rem;
      padding: 10px 6px;
   }
   
   .imagen-producto-tabla {
      width: 40px;
      height: 40px;
   }
   
   .acciones-producto {
      flex-direction: column;
      gap: 4px;
   }
}

@media (max-width: 480px) {
   #tabla-productos {
      font-size: .85rem;
      min-width: 800px;
   }
   
   #tabla-productos th, #tabla-productos td {
      padding: 6px 4px;
   }
   
   .imagen-producto-tabla {
      width: 35px;
      height: 35px;
   }
}

/* Responsive para dashboard */
@media (max-width: 768px) {
   .dashboard-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
   }
   
   .dashboard-controls {
      align-items: flex-start;
      width: 100%;
   }
   
   .simulation-controls {
      flex-wrap: wrap;
   }
   
   .kpi-grid {
      grid-template-columns: 1fr;
   }
   
   .charts-grid {
      grid-template-columns: 1fr;
   }
   
   .alerts-grid {
      grid-template-columns: 1fr;
   }
   
   .widgets-grid {
      grid-template-columns: 1fr;
   }
   
   .simulation-grid {
      grid-template-columns: 1fr;
   }
   
   .kpi-card {
      flex-direction: column;
      text-align: center;
   }
   
   .kpi-icon {
      font-size: 2rem;
   }
   
   .kpi-value {
      font-size: 1.5rem;
   }
   
   .big-number {
      font-size: 2rem;
   }
   
   /* Responsive para Python */
   .analysis-tabs {
      flex-wrap: wrap;
   }
   
   .tab-button {
      padding: 0.6rem 1rem;
      font-size: 0.8rem;
   }
   
   .overview-grid {
      grid-template-columns: 1fr;
   }
   
   .metrics-grid {
      grid-template-columns: 1fr;
   }
   
   .analysis-content {
      grid-template-columns: 1fr;
   }
   
   .libraries-grid {
      grid-template-columns: 1fr;
   }
   
   .summary-stats {
      flex-direction: column;
   }
}

/* Responsive para el nuevo dashboard */
@media (max-width: 1200px) {
   .dashboard-main-grid {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto auto;
      gap: 1.5rem;
   }
   
   .revenue-analytics {
      grid-column: 1 / -1;
      grid-row: 1;
   }
   
   .monthly-target {
      grid-column: 1;
      grid-row: 2;
   }
   
   .top-categories {
      grid-column: 2;
      grid-row: 2;
   }
   
   .active-user {
      grid-column: 1;
      grid-row: 2;
      max-width: 300px;
      width: 100%;
   }
   
   .conversion-rate {
      grid-column: 1 / -1;
      grid-row: 3;
      width: 800px;
      max-width: 90%;
      justify-self: center;
      margin-left: 0;
      z-index: 10;
      position: relative;
   }
   
   @media (max-width: 992px) {
      .conversion-rate {
         width: 700px;
         max-width: 90%;
         margin-left: 0;
         justify-self: center;
      }
   }
   
   @media (max-width: 768px) {
      .conversion-rate {
         width: 600px;
         max-width: 95%;
         margin-left: 0;
         justify-self: center;
      }
   }
   
   .traffic-sources {
      grid-column: 2;
      grid-row: 2;
   }
}

@media (max-width: 768px) {
   .dashboard-main-header {
      justify-content: flex-start;
   }
   
   .main-kpi-grid {
      grid-template-columns: 1fr;
   }
   
   .dashboard-main-grid {
      grid-template-columns: 1fr;
      grid-template-rows: auto;
      gap: 2px;
   }
   
   .revenue-analytics,
   .monthly-target,
   .top-categories,
   .active-user,
   .conversion-rate,
   .traffic-sources {
      grid-column: 1;
      grid-row: auto;
   }
}

/* Responsive para Conversion Rate */
@media (max-width: 1400px) {
   .conversion-rate {
      width: 750px;
      max-width: 90%;
      margin-left: 0;
      justify-self: center;
   }
   
   .conversion-funnel {
      gap: 2rem;
      padding: 0;
      height: 200px;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
   }
}

@media (max-width: 1200px) {
   .conversion-rate {
      width: 700px;
      max-width: 90%;
      margin-left: 0;
      justify-self: center;
   }
   
   .conversion-funnel {
      gap: 1.8rem;
      padding: 0;
      height: 200px;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
   }
}

@media (max-width: 992px) {
   .conversion-rate {
      width: 650px;
      max-width: 90%;
      margin-left: 0;
      justify-self: center;
   }
   
   .conversion-funnel {
      gap: 1.5rem;
      padding: 45;
      height: 180px;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
   }
   
   .funnel-step {
      min-width: 70px;
      max-width: 120px;
   }
}

@media (max-width: 768px) {
   .conversion-rate {
      width: 550px;
      max-width: 95%;
      margin-left: 0;
      justify-self: center;
   }
   
   .conversion-funnel {
      gap: 1rem;
      padding: 0;
      height: 150px;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
   }
   
   .funnel-step {
      min-width: 60px;
      max-width: 100px;
   }
   
   .step-info {
      top: -80px;
   }
   
   .step-number {
      font-size: 0.9rem;
   }
   
   .step-label {
      font-size: 0.7rem;
   }
}

@media (max-width: 600px) {
   .conversion-rate {
      width: 450px;
      max-width: 95%;
      margin-left: 0;
      justify-self: center;
   }
   
   .conversion-funnel {
      gap: 0.8rem;
      padding: 0;
      height: 130px;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
   }
   
   .funnel-step {
      min-width: 50px;
      max-width: 90px;
   }
   
   .step-info {
      top: -75px;
   }
   
   .step-number {
      font-size: 0.8rem;
   }
   
   .step-label {
      font-size: 0.6rem;
   }
}

@media (max-width: 480px) {
   .conversion-rate {
      width: 400px;
      max-width: 95%;
      margin-left: 0;
      justify-self: center;
   }
   
   .conversion-funnel {
      gap: 0.5rem;
      padding: 0;
      height: 120px;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
   }
   
   .funnel-step {
      min-width: 45px;
      max-width: 80px;
   }
   
   .step-info {
      top: -70px;
   }
   
   .step-number {
      font-size: 0.8rem;
   }
   
   .step-label {
      font-size: 0.6rem;
   }
}

/* Responsive: sidebar arriba y contenido abajo */
@media (max-width: 1025px) {
   .admin-layout {
       width: 100%;
       flex-direction: column;
       margin-top: 2rem;
       gap: 2px;
   }
   
   .sidebar {
       position: static;
       max-height: none;
   }
   
   .admin-content {
       margin-right: 0;
       margin-left: 0;
   }
   
   .admin-content section {
       max-width: 100%;
       width: 100%;
   }
}

@media (max-width: 768px) {
   .admin-layout {
       width: 100%;
       margin: 11.7rem 0 2rem 0;
       padding: 0 10px;
   }
   
   .admin-content section {
       padding: 15px;
   }
}

/* Revenue Analytics Responsive */
@media (max-width: 1200px) {
   .line-chart-container {
      min-height: 180px;
      padding: 0.75rem;
   }
   
   .revenue-svg {
      min-height: 160px;
   }
}

@media (max-width: 992px) {
   .line-chart-container {
      min-height: 160px;
      padding: 0.5rem;
   }
   
   .revenue-svg {
      min-height: 140px;
   }
   
   .chart-legend {
      gap: 1rem;
      padding: 0.4rem;
   }
}

@media (max-width: 768px) {
   .line-chart-container {
      min-height: 140px;
      padding: 0.4rem;
   }
   
   .revenue-svg {
      min-height: 120px;
   }
   
   .chart-labels {
      height: 1.5rem;
      padding: 0.3rem 0.5rem;
   }
   
   .chart-label-item {
      font-size: 0.6rem;
   }
}

@media (max-width: 600px) {
   .line-chart-container {
      min-height: 120px;
      padding: 0.3rem;
   }
   
   .revenue-svg {
      min-height: 100px;
   }
   
   .chart-legend {
      flex-direction: column;
      gap: 0.5rem;
      align-items: center;
   }
   
   .chart-labels {
      height: 1.2rem;
      padding: 0.2rem 0.3rem;
   }
   
   .chart-label-item {
      font-size: 0.55rem;
   }
}
